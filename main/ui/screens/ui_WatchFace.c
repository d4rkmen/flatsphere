// This file was generated by SquareLine Studio
// SquareLine Studio version: SquareLine Studio 1.5.4
// LVGL version: 9.2.2
// Project name: SquareLine_Project

#include "../ui.h"

lv_obj_t* ui_WatchFace = NULL;
lv_obj_t* ui_ImageWatchface = NULL;
lv_obj_t* ui_BatteryBar = NULL;
lv_obj_t* ui_PanelDate = NULL;
lv_obj_t* ui_LabelDay = NULL;
lv_obj_t* ui_ImageArmHour = NULL;
lv_obj_t* ui_ImageArmMinute = NULL;
lv_obj_t* ui_ImageArmSecond = NULL;
// event funtions
void ui_event_BatteryBar(lv_event_t* e)
{
    lv_event_code_t event_code = lv_event_get_code(e);

    if (event_code == LV_EVENT_CLICKED)
    {
        // load date from rtc
        struct tm timeinfo;
        ui_load_datetime_from_rtc(&timeinfo);
        lv_roller_set_selected(ui_RollerDay, timeinfo.tm_mday - 1, LV_ANIM_OFF);
        lv_roller_set_selected(ui_RollerMonth, timeinfo.tm_mon, LV_ANIM_OFF);
        lv_roller_set_selected(ui_RollerYear, timeinfo.tm_year + 1900 - 2025, LV_ANIM_OFF);

        _ui_screen_change(&ui_SetDate, LV_SCR_LOAD_ANIM_MOVE_BOTTOM, 250, 0, &ui_SetDate_screen_init);
    }
}

// build funtions

void ui_WatchFace_screen_init(void)
{
    ui_WatchFace = lv_obj_create(NULL);
    lv_obj_remove_flag(ui_WatchFace, LV_OBJ_FLAG_SCROLLABLE); /// Flags

    ui_ImageWatchface = lv_image_create(ui_WatchFace);
    lv_image_set_src(ui_ImageWatchface, &ui_img_watchface360_png);
    lv_obj_set_width(ui_ImageWatchface, LV_SIZE_CONTENT);  /// 1
    lv_obj_set_height(ui_ImageWatchface, LV_SIZE_CONTENT); /// 1
    lv_obj_set_align(ui_ImageWatchface, LV_ALIGN_CENTER);
    lv_obj_add_flag(ui_ImageWatchface, LV_OBJ_FLAG_ADV_HITTEST);   /// Flags
    lv_obj_remove_flag(ui_ImageWatchface, LV_OBJ_FLAG_SCROLLABLE); /// Flags

    ui_BatteryBar = lv_bar_create(ui_ImageWatchface);
    lv_bar_set_value(ui_BatteryBar, 25, LV_ANIM_OFF);
    lv_bar_set_start_value(ui_BatteryBar, 0, LV_ANIM_OFF);
    lv_obj_set_width(ui_BatteryBar, 64);
    lv_obj_set_height(ui_BatteryBar, 16);
    lv_obj_set_x(ui_BatteryBar, 0);
    lv_obj_set_y(ui_BatteryBar, 100);
    lv_obj_set_align(ui_BatteryBar, LV_ALIGN_CENTER);
    lv_obj_set_style_bg_color(ui_BatteryBar, lv_color_hex(0x6F6F6F), LV_PART_MAIN | LV_STATE_DEFAULT);
    lv_obj_set_style_bg_opa(ui_BatteryBar, 255, LV_PART_MAIN | LV_STATE_DEFAULT);

    lv_obj_set_style_bg_color(ui_BatteryBar, lv_color_hex(0x01FF2A), LV_PART_INDICATOR | LV_STATE_DEFAULT);
    lv_obj_set_style_bg_opa(ui_BatteryBar, 255, LV_PART_INDICATOR | LV_STATE_DEFAULT);

    // Compensating for LVGL9.1 draw crash with bar/slider max value when top-padding is nonzero and right-padding is 0
    if (lv_obj_get_style_pad_top(ui_BatteryBar, LV_PART_MAIN) > 0)
        lv_obj_set_style_pad_right(ui_BatteryBar,
                                   lv_obj_get_style_pad_right(ui_BatteryBar, LV_PART_MAIN) + 1,
                                   LV_PART_MAIN);

    ui_PanelDate = lv_obj_create(ui_ImageWatchface);
    lv_obj_set_width(ui_PanelDate, 100);
    lv_obj_set_height(ui_PanelDate, 36);
    lv_obj_set_x(ui_PanelDate, 70);
    lv_obj_set_y(ui_PanelDate, 0);
    lv_obj_set_align(ui_PanelDate, LV_ALIGN_CENTER);
    lv_obj_remove_flag(ui_PanelDate, LV_OBJ_FLAG_SCROLLABLE); /// Flags
    lv_obj_set_style_bg_color(ui_PanelDate, lv_color_hex(0xFFFFFF), LV_PART_MAIN | LV_STATE_DEFAULT);
    lv_obj_set_style_bg_opa(ui_PanelDate, 255, LV_PART_MAIN | LV_STATE_DEFAULT);
    lv_obj_set_style_border_color(ui_PanelDate, lv_color_hex(0x767676), LV_PART_MAIN | LV_STATE_DEFAULT);
    lv_obj_set_style_border_opa(ui_PanelDate, 255, LV_PART_MAIN | LV_STATE_DEFAULT);

    ui_LabelDay = lv_label_create(ui_PanelDate);
    lv_obj_set_width(ui_LabelDay, LV_SIZE_CONTENT);  /// 1
    lv_obj_set_height(ui_LabelDay, LV_SIZE_CONTENT); /// 1
    lv_obj_set_align(ui_LabelDay, LV_ALIGN_CENTER);
    lv_label_set_text(ui_LabelDay, "WED 04");
    lv_obj_set_style_text_color(ui_LabelDay, lv_color_hex(0x000000), LV_PART_MAIN | LV_STATE_DEFAULT);
    lv_obj_set_style_text_opa(ui_LabelDay, 255, LV_PART_MAIN | LV_STATE_DEFAULT);
    lv_obj_set_style_text_font(ui_LabelDay, &lv_font_montserrat_20, LV_PART_MAIN | LV_STATE_DEFAULT);

    ui_ImageArmHour = lv_image_create(ui_WatchFace);
    lv_image_set_src(ui_ImageArmHour, &ui_img_armhour_png);
    lv_obj_set_width(ui_ImageArmHour, LV_SIZE_CONTENT);  /// 1
    lv_obj_set_height(ui_ImageArmHour, LV_SIZE_CONTENT); /// 1
    lv_obj_set_x(ui_ImageArmHour, 0);
    lv_obj_set_y(ui_ImageArmHour, -35);
    lv_obj_set_align(ui_ImageArmHour, LV_ALIGN_CENTER);
    lv_obj_add_flag(ui_ImageArmHour, LV_OBJ_FLAG_ADV_HITTEST);   /// Flags
    lv_obj_remove_flag(ui_ImageArmHour, LV_OBJ_FLAG_SCROLLABLE); /// Flags
    lv_image_set_pivot(ui_ImageArmHour, 9, 77);
    lv_image_set_rotation(ui_ImageArmHour, 450);
    lv_image_set_scale(ui_ImageArmHour, 384);

    ui_ImageArmMinute = lv_image_create(ui_WatchFace);
    lv_image_set_src(ui_ImageArmMinute, &ui_img_armminute_png);
    lv_obj_set_width(ui_ImageArmMinute, LV_SIZE_CONTENT);  /// 1
    lv_obj_set_height(ui_ImageArmMinute, LV_SIZE_CONTENT); /// 1
    lv_obj_set_x(ui_ImageArmMinute, 0);
    lv_obj_set_y(ui_ImageArmMinute, -49);
    lv_obj_set_align(ui_ImageArmMinute, LV_ALIGN_CENTER);
    lv_obj_add_flag(ui_ImageArmMinute, LV_OBJ_FLAG_ADV_HITTEST);   /// Flags
    lv_obj_remove_flag(ui_ImageArmMinute, LV_OBJ_FLAG_SCROLLABLE); /// Flags
    lv_image_set_pivot(ui_ImageArmMinute, 9, 105);
    lv_image_set_rotation(ui_ImageArmMinute, 1800);
    lv_image_set_scale(ui_ImageArmMinute, 384);

    ui_ImageArmSecond = lv_image_create(ui_WatchFace);
    lv_image_set_src(ui_ImageArmSecond, &ui_img_armsecond_png);
    lv_obj_set_width(ui_ImageArmSecond, LV_SIZE_CONTENT);  /// 1
    lv_obj_set_height(ui_ImageArmSecond, LV_SIZE_CONTENT); /// 1
    lv_obj_set_x(ui_ImageArmSecond, 0);
    lv_obj_set_y(ui_ImageArmSecond, -47);
    lv_obj_set_align(ui_ImageArmSecond, LV_ALIGN_CENTER);
    lv_obj_add_flag(ui_ImageArmSecond, LV_OBJ_FLAG_ADV_HITTEST);   /// Flags
    lv_obj_remove_flag(ui_ImageArmSecond, LV_OBJ_FLAG_SCROLLABLE); /// Flags
    lv_image_set_pivot(ui_ImageArmSecond, 5, 115);
    lv_image_set_rotation(ui_ImageArmSecond, 3150);
    lv_image_set_scale(ui_ImageArmSecond, 384);

    lv_obj_add_event_cb(ui_BatteryBar, ui_event_BatteryBar, LV_EVENT_ALL, NULL);
}

void ui_WatchFace_screen_destroy(void)
{
    if (ui_WatchFace)
        lv_obj_del(ui_WatchFace);

    // NULL screen variables
    ui_WatchFace = NULL;
    ui_ImageWatchface = NULL;
    ui_BatteryBar = NULL;
    ui_ImageArmHour = NULL;
    ui_ImageArmMinute = NULL;
    ui_ImageArmSecond = NULL;
}
